<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blockchain Layer'ları: Bitcoin ve Ethereum</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;
        line-height: 1.6;
        color: #333;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 20px;
        padding: 40px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      h1 {
        color: #2c3e50;
        font-size: 2.5em;
        margin-bottom: 10px;
        text-align: center;
        background: linear-gradient(135deg, #667eea, #764ba2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .subtitle {
        text-align: center;
        color: #7f8c8d;
        margin-bottom: 40px;
        font-size: 1.1em;
      }

      .intro-box {
        background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        padding: 25px;
        border-radius: 15px;
        margin-bottom: 40px;
      }

      .intro-box h2 {
        color: #34495e;
        margin-bottom: 15px;
        font-size: 1.8em;
      }

      .intro-box p {
        color: #555;
        line-height: 1.8;
        margin-bottom: 10px;
      }

      .layer-section {
        margin-bottom: 40px;
        background: #f8f9fa;
        padding: 30px;
        border-radius: 15px;
        border-left: 5px solid #667eea;
      }

      .layer-section h2 {
        color: #2c3e50;
        margin-bottom: 20px;
        font-size: 2em;
      }

      .layer-section h3 {
        color: #34495e;
        margin: 20px 0 15px 0;
        font-size: 1.5em;
        border-bottom: 2px solid #e0e0e0;
        padding-bottom: 10px;
      }

      .tech-detail {
        background: white;
        padding: 20px;
        border-radius: 10px;
        margin: 15px 0;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .tech-detail h4 {
        color: #667eea;
        margin-bottom: 10px;
        font-size: 1.2em;
      }

      .tech-detail p {
        color: #555;
        line-height: 1.7;
        margin-bottom: 10px;
      }

      .tech-detail ul {
        margin-left: 25px;
        margin-top: 10px;
      }

      .tech-detail li {
        color: #666;
        margin-bottom: 8px;
      }

      .comparison-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 20px 0;
      }

      .comparison-card {
        background: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .comparison-card h4 {
        color: #34495e;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      .bitcoin-card {
        border-top: 4px solid #f7931a;
      }

      .ethereum-card {
        border-top: 4px solid #627eea;
      }

      .highlight {
        background: #fff3cd;
        padding: 3px 6px;
        border-radius: 3px;
        font-weight: 500;
      }

      .code-block {
        background: #2c3e50;
        color: #fff;
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        font-family: "Courier New", monospace;
        overflow-x: auto;
        white-space: pre;
        font-size: 12px;
        line-height: 1.4;
      }

      .warning-box {
        background: #fff3cd;
        border-left: 5px solid #ffc107;
        padding: 20px;
        margin: 20px 0;
        border-radius: 5px;
      }

      .warning-box h4 {
        color: #856404;
        margin-bottom: 10px;
      }

      .example-box {
        background: #d4edda;
        border-left: 5px solid #28a745;
        padding: 20px;
        margin: 20px 0;
        border-radius: 5px;
      }

      .example-box h4 {
        color: #155724;
        margin-bottom: 10px;
      }

      .future-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 30px;
        border-radius: 15px;
        margin-top: 40px;
      }

      .future-section h2 {
        color: white;
        margin-bottom: 20px;
      }

      .future-section p {
        line-height: 1.8;
        margin-bottom: 15px;
      }

      @media (max-width: 768px) {
        .container {
          padding: 20px;
        }

        h1 {
          font-size: 2em;
        }

        .comparison-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Blockchain Layer'ları Rehberi</h1>
      <p class="subtitle">Bitcoin ve Ethereum Ağlarında Katman Yapısı</p>

      <div class="intro-box">
        <h2>Blockchain'de Layer (Katman) Nedir?</h2>
        <p>
          <strong>Layer (Katman)</strong>, blockchain teknolojisinde farklı işlevleri yerine getiren yapısal
          seviyelerdir. Tıpkı bir binanın temel, duvar ve çatı gibi katmanlardan oluşması gibi, blockchain sistemleri de
          farklı katmanlardan oluşur.
        </p>
        <p>
          Her katmanın kendine özgü görevi vardır ve üst katmanlar alt katmanların güvenliğinden ve altyapısından
          faydalanır. Bu katmanlı yapı, blockchain'lerin <span class="highlight">ölçeklenebilirlik</span>,
          <span class="highlight">güvenlik</span> ve <span class="highlight">merkeziyetsizlik</span> arasındaki dengeyi
          kurmasına yardımcı olur.
        </p>
      </div>

      <div class="layer-section">
        <h2>Layer 0: Altyapı Katmanı</h2>
        <p>
          Layer 0, blockchain'in temelini oluşturan altyapı katmanıdır. İnternet bağlantısı, donanım ve blockchain'ler
          arası iletişimi sağlayan protokolleri içerir.
        </p>

        <div class="tech-detail">
          <h4>Teknik Detaylar:</h4>
          <ul>
            <li>
              <strong>P2P (Peer-to-Peer) Ağ Protokolleri:</strong> Node'ların birbirleriyle nasıl iletişim kurduğunu
              belirler
            </li>
            <li><strong>İnternet Protokolleri:</strong> TCP/IP, HTTP/HTTPS gibi temel internet protokolleri</li>
            <li><strong>Donanım Altyapısı:</strong> Mining cihazları, sunucular, ağ ekipmanları</li>
          </ul>

          <div class="code-block">// Örnek P2P bağlantı kurulumu
Node A [IP: 192.168.1.100] ←→ Node B [IP: 192.168.1.101]
Protocol: TCP/IP 
Port: 8333 (Bitcoin) veya 30303 (Ethereum)</div>
        </div>

        <div class="example-box">
          <h4>Örnek Layer 0 Projeleri:</h4>
          <p><strong>Polkadot:</strong> Farklı blockchain'leri birbirine bağlayan bir Layer 0 projesidir.</p>
          <p>
            <strong>Cosmos:</strong> "Blockchain'lerin interneti" olarak bilinen, blockchain'ler arası iletişimi
            sağlayan bir ekosistemdir.
          </p>
        </div>
      </div>

      <div class="layer-section">
        <h2>Layer 1: Ana Blockchain Katmanı</h2>
        <p>
          Layer 1, ana blockchain ağının kendisidir. Bitcoin ve Ethereum gibi bağımsız blockchain'ler Layer 1 olarak
          kabul edilir. Bu katman, işlemlerin doğrulanması, konsensüs mekanizması ve güvenlik gibi temel işlevleri
          yerine getirir.
        </p>

        <h3>Bitcoin (BTC) - Layer 1</h3>
        <div class="tech-detail">
          <h4>Bitcoin'in Layer 1 Özellikleri:</h4>
          <ul>
            <li><strong>Konsensüs Mekanizması:</strong> Proof of Work (PoW) - Madencilik yoluyla işlem doğrulama</li>
            <li><strong>Blok Süresi:</strong> Yaklaşık 10 dakika</li>
            <li><strong>Blok Boyutu:</strong> 1 MB (SegWit ile efektif olarak ~4 MB)</li>
            <li><strong>İşlem Hızı:</strong> Saniyede 7 işlem (TPS)</li>
            <li><strong>Güvenlik Modeli:</strong> SHA-256 hash algoritması</li>
          </ul>

          <div class="code-block">// Bitcoin blok yapısı örneği
Block #750000 {
    previousHash: "00000000000000000007316..."
    timestamp: 1661961600
    nonce: 3721548864
    merkleRoot: "7c4d7e3f2a1b9c8d5e6f..."
    transactions: [tx1, tx2, tx3, ...]
}</div>
        </div>

        <h3>Ethereum (ETH) - Layer 1</h3>
        <div class="tech-detail">
          <h4>Ethereum'un Layer 1 Özellikleri:</h4>
          <ul>
            <li><strong>Konsensüs Mekanizması:</strong> Proof of Stake (PoS) - The Merge sonrası</li>
            <li><strong>Blok Süresi:</strong> 12 saniye</li>
            <li><strong>İşlem Hızı:</strong> Saniyede 15-30 işlem (TPS)</li>
            <li>
              <strong>Smart Contract Desteği:</strong> EVM (Ethereum Virtual Machine) üzerinde çalışan akıllı kontratlar
            </li>
            <li><strong>Gas Sistemi:</strong> İşlem ücretleri için kullanılan birim</li>
          </ul>

          <div class="code-block">// Ethereum smart contract örneği
contract SimpleStorage {
    uint256 public storedData;
    
    function set(uint256 x) public {
        storedData = x;
    }
    
    function get() public view returns (uint256) {
        return storedData;
    }
}</div>
        </div>

        <div class="tech-detail" style="background: linear-gradient(135deg, #f0f4f8 0%, #e8ecf0 100%); border: 2px solid #627eea;">
          <h4 style="color: #2c3e50; font-size: 1.4em;">Ethereum'un İki Katmanlı Yapısı: Execution Layer ve Consensus Layer</h4>
          
          <div style="margin: 20px 0;">
            <h5 style="color: #627eea; margin-bottom: 10px; font-size: 1.2em;">1. Execution Layer (Yürütme Katmanı)</h5>
            <p style="margin-bottom: 10px;">
              Eski adıyla Eth1, işlemlerin ve smart contract'ların yürütüldüğü katmandır. EVM (Ethereum Virtual Machine) bu katmanda çalışır.
            </p>
            <ul style="margin-left: 25px;">
              <li><strong>İşlem Havuzu (Mempool):</strong> Bekleyen işlemlerin tutulduğu yer</li>
              <li><strong>EVM Yürütme:</strong> Smart contract kodlarının çalıştırılması</li>
              <li><strong>State Management:</strong> Blockchain durumunun (state) yönetimi</li>
              <li><strong>İşlem Doğrulama:</strong> Gas hesaplaması ve işlem geçerliliği kontrolü</li>
              <li><strong>Client Örnekleri:</strong> Geth, Nethermind, Besu, Erigon</li>
            </ul>
            
            <div class="code-block" style="margin-top: 15px;">// Execution Layer'da işlem akışı
1. Kullanıcı işlem gönderir (MetaMask → RPC)
2. İşlem mempool'a eklenir
3. Validator işlemi seçer
4. EVM işlemi yürütür
5. State güncellenir
6. Merkle tree root hesaplanır</div>
          </div>

          <div style="margin: 20px 0;">
            <h5 style="color: #627eea; margin-bottom: 10px; font-size: 1.2em;">2. Consensus Layer (Konsensüs Katmanı)</h5>
            <p style="margin-bottom: 10px;">
              Eski adıyla Eth2 veya Beacon Chain, Proof of Stake konsensüsünü yöneten katmandır. The Merge sonrası aktif hale gelmiştir.
            </p>
            <ul style="margin-left: 25px;">
              <li><strong>Validator Yönetimi:</strong> 32 ETH stake eden validator'ların koordinasyonu</li>
              <li><strong>Blok Önerisi:</strong> Her 12 saniyede bir validator blok önerir</li>
              <li><strong>Attestation:</strong> Diğer validator'lar blokları onaylar</li>
              <li><strong>Finality:</strong> 2 epoch (~12.8 dakika) sonra bloklar kesinleşir</li>
              <li><strong>Slashing:</strong> Kötü niyetli davranışların cezalandırılması</li>
              <li><strong>Client Örnekleri:</strong> Prysm, Lighthouse, Teku, Nimbus, Lodestar</li>
            </ul>

            <div class="code-block" style="margin-top: 15px;">// Consensus Layer işleyişi
Slot 0: Validator A blok önerir
  ↓ (12 saniye)
Slot 1: Validator B blok önerir + A'yı onaylar
  ↓ (32 slot = 1 epoch)
Epoch tamamlanır, checkpoint oluşur
  ↓ (2 epoch sonra)
Finality: Bloklar değiştirilemez hale gelir</div>
          </div>

          <div style="margin: 20px 0; background: #fff; padding: 15px; border-radius: 8px;">
            <h5 style="color: #2c3e50; margin-bottom: 10px;">Engine API: İki Katman Arasındaki İletişim</h5>
            <p>
              Execution ve Consensus layer'lar Engine API üzerinden haberleşir. Bu API, iki katmanın senkronize çalışmasını sağlar.
            </p>
            <div class="code-block" style="margin-top: 10px;">// Engine API çağrıları
engine_newPayloadV3: Yeni blok verisi gönder
engine_forkchoiceUpdatedV3: Fork seçimi güncelle
engine_getPayloadV3: Blok içeriğini al</div>
          </div>
        </div>

        <div class="warning-box">
          <h4>Layer 1 Ölçeklenebilirlik Sorunu:</h4>
          <p>
            Layer 1 blockchain'ler genellikle <strong>"Blockchain Trilemmasi"</strong> ile karşı karşıyadır: Güvenlik,
            Merkeziyetsizlik ve Ölçeklenebilirlik. Bu üç özellikten genellikle sadece ikisi aynı anda optimize
            edilebilir.
          </p>
        </div>
      </div>

      <div class="layer-section">
        <h2>Layer 2: Ölçeklendirme Çözümleri</h2>
        <p>
          Layer 2, ana blockchain'in (Layer 1) üzerine inşa edilen ve işlem hızını artırıp maliyetleri düşüren
          çözümlerdir. İşlemleri ana zincir dışında işleyip, sonuçları ana zincire kaydederler.
        </p>

        <div class="tech-detail" style="background: #e8f5e9; border: 2px solid #4caf50; margin-bottom: 30px;">
          <h4 style="color: #2e7d32; font-size: 1.4em;">Layer 2'nin Ethereum Ekosistemindeki Yeri</h4>
          
          <div style="margin: 20px 0;">
            <h5 style="color: #388e3c; margin-bottom: 10px;">Layer 2 Nerede Konumlanır?</h5>
            <p style="margin-bottom: 15px;">
              Layer 2 çözümleri, Ethereum'un Execution Layer'ı üzerinde çalışır ancak kendi bağımsız işlem yürütme ortamlarına sahiptir.
              Layer 1'in güvenlik garantilerini devralırken, işlem yükünü ana zincirden alır.
            </p>
            
            <div class="code-block" style="margin: 15px 0;">// Ethereum Katman Hiyerarşisi
┌─────────────────────────────────────────┐
│         Kullanıcı Uygulamaları          │ ← DApps, Cüzdanlar
├─────────────────────────────────────────┤
│              LAYER 2                     │
│  ┌─────────────┬──────────────────┐     │
│  │  Arbitrum   │    Optimism      │     │ ← Rollup Execution
│  │   zkSync    │    Polygon       │     │ ← Off-chain Processing
│  └─────────────┴──────────────────┘     │
├─────────────────────────────────────────┤
│         ETHEREUM LAYER 1                 │
│  ┌─────────────────────────────────┐    │
│  │     Consensus Layer (PoS)       │    │ ← Blok Üretimi
│  ├─────────────────────────────────┤    │
│  │     Execution Layer (EVM)       │    │ ← İşlem Yürütme
│  └─────────────────────────────────┘    │
├─────────────────────────────────────────┤
│              LAYER 0                     │ ← P2P Ağ, Donanım
└─────────────────────────────────────────┘</div>
          </div>

          <div style="margin: 20px 0;">
            <h5 style="color: #388e3c; margin-bottom: 10px;">Layer 2 - Layer 1 Etkileşimi</h5>
            <ul style="margin-left: 25px;">
              <li><strong>Sequencer:</strong> Layer 2'de işlemleri sıralayan ve yürüten node</li>
              <li><strong>State Root:</strong> Layer 2'nin durumu periyodik olarak Layer 1'e kaydedilir</li>
              <li><strong>Fraud/Validity Proofs:</strong> İşlemlerin doğruluğunu kanıtlayan mekanizmalar</li>
              <li><strong>Bridge Contracts:</strong> Layer 1-2 arası varlık transferini sağlayan smart contract'lar</li>
              <li><strong>Data Availability:</strong> İşlem verileri Layer 1'de veya harici DA katmanında saklanır</li>
            </ul>

            <div class="code-block" style="margin-top: 15px;">// Layer 2 İşlem Akışı (Optimistic Rollup Örneği)
1. Kullanıcı → Layer 2 Sequencer'a işlem gönderir
2. Sequencer işlemi yürütür (milisaniyeler)
3. İşlemler batch halinde toplanır
4. Batch data + state root → Ethereum Layer 1'e gönderilir
5. Challenge period (7 gün) başlar
6. Challenge yoksa işlem kesinleşir

// ZK-Rollup'ta Farklılık:
4. Batch data + ZK proof → Ethereum Layer 1'e gönderilir
5. Proof doğrulanır (dakikalar)
6. İşlem anında kesinleşir</div>
          </div>

          <div style="margin: 20px 0; background: #fff; padding: 15px; border-radius: 8px;">
            <h5 style="color: #2e7d32; margin-bottom: 10px;">Teknik Detaylar: Rollup Mekanizmaları</h5>
            
            <p><strong>Optimistic Rollups:</strong></p>
            <ul style="margin-left: 25px; margin-bottom: 15px;">
              <li>İşlemlerin doğru olduğu varsayılır (optimistic)</li>
              <li>Hatalı işlem tespit edilirse fraud proof ile kanıtlanır</li>
              <li>7 günlük challenge period gerekir</li>
              <li>EVM uyumluluğu yüksek</li>
            </ul>
            
            <div style="background: #ffebee; border: 2px solid #f44336; padding: 15px; border-radius: 8px; margin: 15px 0;">
              <h6 style="color: #c62828; margin-bottom: 10px; font-size: 1.1em;">
                "İşlemler doğru varsayılıyor" - Bu Güvenli mi? 🤔
              </h6>
              <p style="color: #d32f2f; font-weight: bold; margin-bottom: 10px;">
                Evet, kulağa berbat geliyor ama aslında çok akıllıca bir sistem! İşte nedeni:
              </p>
              
              <ol style="margin-left: 20px; color: #424242;">
                <li style="margin-bottom: 10px;">
                  <strong>Ekonomik Teşvik Sistemi:</strong><br>
                  Sequencer (işlemleri yürüten) büyük miktarda ETH stake eder. Yanlış işlem yaparsa:
                  <ul style="margin-top: 5px;">
                    <li>Stake ettiği tüm ETH'yi kaybeder (slashing)</li>
                    <li>İtibarı sıfırlanır</li>
                    <li>Protokolden banlanır</li>
                  </ul>
                  Örnek: Arbitrum'da sequencer milyonlarca dolar değerinde teminat tutar.
                </li>
                
                <li style="margin-bottom: 10px;">
                  <strong>Fraud Proof (Hile Kanıtı) Mekanizması:</strong><br>
                  <div class="code-block" style="margin: 10px 0; background: #263238;">// Fraud Proof Nasıl Çalışır?
1. Sequencer yanlış state root gönderdi diyelim
   Gerçek: Alice'in 100 ETH'si var
   Yanlış: Alice'in 1000 ETH'si var (SAHTE!)

2. Herhangi biri (watcher/validator) bunu fark eder
3. Challenge başlatır: "Bu işlem yanlış!"
4. Layer 1'de işlem tekrar yürütülür (on-chain replay)
5. Yanlış olduğu kanıtlanırsa:
   - Sequencer'ın stake'i kesilir
   - Challenge eden ödül alır
   - State düzeltilir</div>
                </li>
                
                <li style="margin-bottom: 10px;">
                  <strong>7 Günlük Challenge Period:</strong><br>
                  Bu süre zarfında:
                  <ul style="margin-top: 5px;">
                    <li>Binlerce bağımsız validator işlemleri kontrol eder</li>
                    <li>Otomatik bot'lar 7/24 hata arar</li>
                    <li>Hata bulana büyük ödül verilir (bounty)</li>
                    <li>Tek bir dürüst validator yeterli - sistem güvende!</li>
                  </ul>
                </li>
                
                <li style="margin-bottom: 10px;">
                  <strong>Gerçek Dünya Örneği:</strong><br>
                  Banka havalelerini düşün:
                  <ul style="margin-top: 5px;">
                    <li>Havale anında "görünür" (optimistic)</li>
                    <li>Arka planda kontroller yapılır</li>
                    <li>Sorun varsa 1-3 gün içinde iptal edilir</li>
                    <li>Optimistic Rollup'lar aynı mantık, ama kriptografik kanıtlarla!</li>
                  </ul>
                </li>
              </ol>
              
              <div style="background: #e8f5e9; padding: 10px; border-radius: 5px; margin-top: 15px;">
                <p style="color: #2e7d32; font-weight: bold;">
                  💡 Önemli: Bugüne kadar Arbitrum ve Optimism'de hiçbir başarılı hile girişimi olmadı!
                </p>
                <p style="color: #388e3c; margin-top: 5px;">
                  Çünkü hile yapmanın maliyeti (stake kaybı) &gt;&gt;&gt; potansiyel kazanç
                </p>
              </div>
              
              <div class="code-block" style="margin-top: 15px; background: #1a237e; color: #fff;">// Neden "Optimistic" Daha Verimli?

ZK-Rollup: Her işlem için pahalı matematiksel kanıt üret
          → Yavaş ve pahalı hesaplama
          → Kanıt üretimi 10-60 saniye
          
Optimistic: Kanıt üretme, sadece sorun olursa yap
           → Hızlı ve ucuz
           → %99.99 durumda kanıt gerekmez
           → Dürüst davranmak daha karlı!</div>
            </div>

            <p><strong>ZK-Rollups:</strong></p>
            <ul style="margin-left: 25px;">
              <li>Her batch için kriptografik kanıt (SNARK/STARK) üretilir</li>
              <li>Kanıt Layer 1'de doğrulanır</li>
              <li>Anında finality sağlar</li>
              <li>Kanıt üretimi hesaplama yoğun</li>
            </ul>

            <div class="code-block" style="margin-top: 15px;">// Smart Contract Seviyesinde Layer 2 Entegrasyonu
contract L2Bridge {
    mapping(address => uint256) public deposits;
    
    function depositToL2(uint256 amount) external {
        // Token'ları Layer 1'de kilitler
        token.transferFrom(msg.sender, address(this), amount);
        // Layer 2'ye mesaj gönderir
        emit DepositInitiated(msg.sender, amount);
    }
    
    function withdrawFromL2(bytes calldata proof) external {
        // Proof doğrula (Optimistic: fraud proof, ZK: validity proof)
        require(verifyProof(proof), "Invalid proof");
        // Token'ları kullanıcıya gönder
        token.transfer(msg.sender, amount);
    }
}</div>
          </div>

          <div style="margin: 20px 0; background: #fff3cd; padding: 15px; border-radius: 8px;">
            <h5 style="color: #856404; margin-bottom: 10px;">Data Availability (DA) Katmanı</h5>
            <p>
              Layer 2'ler için kritik bir konsept olan DA, işlem verilerinin erişilebilir olmasını garanti eder.
              Ethereum'un EIP-4844 (Proto-Danksharding) güncellemesi ile blob'lar üzerinden daha ucuz DA sağlanmaktadır.
            </p>
            <ul style="margin-left: 25px; margin-top: 10px;">
              <li><strong>On-chain DA:</strong> Tüm veriler Ethereum'da (pahalı ama güvenli)</li>
              <li><strong>Off-chain DA:</strong> Veriler harici sistemlerde (Celestia, EigenDA)</li>
              <li><strong>Hybrid:</strong> Kritik veriler on-chain, diğerleri off-chain</li>
            </ul>
          </div>
        </div>

        <div class="comparison-grid">
          <div class="comparison-card bitcoin-card">
            <h4>Bitcoin Layer 2: Lightning Network</h4>
            <div class="tech-detail">
              <p><strong>Nasıl Çalışır?</strong></p>
              <ul>
                <li>İki taraf arasında ödeme kanalı açılır</li>
                <li>İşlemler off-chain (zincir dışı) gerçekleşir</li>
                <li>Sadece açılış ve kapanış işlemleri blockchain'e yazılır</li>
                <li>Saniyede binlerce işlem yapılabilir</li>
                <li>İşlem ücreti neredeyse sıfır</li>
              </ul>

              <div class="code-block">// Lightning Network kanal açma
Alice ←→ Bob
Açılış TX: 0.1 BTC kilitlenir
Off-chain işlemler: Sınırsız
Kapanış TX: Final bakiyeler blockchain'e yazılır</div>
            </div>
          </div>

          <div class="comparison-card ethereum-card">
            <h4>Ethereum Layer 2 Çözümleri</h4>
            <div class="tech-detail">
              <p><strong>Rollup Teknolojileri:</strong></p>
              <ul>
                <li><strong>Optimistic Rollups:</strong> Arbitrum, Optimism</li>
                <li><strong>ZK-Rollups:</strong> zkSync, StarkNet</li>
                <li>İşlemleri toplar ve sıkıştırır</li>
                <li>Güvenlik Layer 1'den alınır</li>
                <li>10-100x daha ucuz işlem ücretleri</li>
              </ul>

              <div class="code-block">// Rollup işleyişi
100 işlem → Rollup'ta işlenir → 
1 kanıt işlemi olarak Ethereum'a yazılır
Maliyet: 100 işlemin maliyeti / 100</div>
            </div>
          </div>
        </div>

        <div class="tech-detail">
          <h4>Layer 2 Teknolojilerinin Karşılaştırması:</h4>
          <table style="width: 100%; border-collapse: collapse; margin-top: 15px">
            <thead>
              <tr style="background: #667eea; color: white">
                <th style="padding: 10px; text-align: left">Özellik</th>
                <th style="padding: 10px; text-align: left">Lightning Network</th>
                <th style="padding: 10px; text-align: left">Optimistic Rollups</th>
                <th style="padding: 10px; text-align: left">ZK-Rollups</th>
              </tr>
            </thead>
            <tbody>
              <tr style="background: #f8f9fa">
                <td style="padding: 10px"><strong>Hız</strong></td>
                <td style="padding: 10px">Anlık</td>
                <td style="padding: 10px">~1 hafta çekim süresi</td>
                <td style="padding: 10px">Birkaç saat</td>
              </tr>
              <tr>
                <td style="padding: 10px"><strong>Güvenlik</strong></td>
                <td style="padding: 10px">Kanal güvenliği</td>
                <td style="padding: 10px">Fraud proof</td>
                <td style="padding: 10px">Matematiksel kanıt</td>
              </tr>
              <tr style="background: #f8f9fa">
                <td style="padding: 10px"><strong>Karmaşıklık</strong></td>
                <td style="padding: 10px">Orta</td>
                <td style="padding: 10px">Düşük</td>
                <td style="padding: 10px">Yüksek</td>
              </tr>
              <tr>
                <td style="padding: 10px"><strong>EVM Uyumluluğu</strong></td>
                <td style="padding: 10px">Yok</td>
                <td style="padding: 10px">Tam uyumlu</td>
                <td style="padding: 10px">Kısmi uyumlu</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="example-box">
          <h4>Gerçek Kullanım Örneği:</h4>
          <p>
            <strong>Arbitrum (Ethereum Layer 2):</strong> Uniswap gibi DeFi uygulamaları Arbitrum üzerinde çalışarak,
            kullanıcılara Ethereum'un güvenliğini koruyarak 10-50 kat daha ucuz işlem ücreti sunar.
          </p>
          <p>
            <strong>Lightning Network:</strong> El Salvador'da günlük Bitcoin ödemeleri için kullanılıyor. Bir kahve
            almak için 10 dakika beklemek yerine, anında ödeme yapılabiliyor.
          </p>
        </div>
      </div>

      <div class="layer-section">
        <h2>Layer 3: Uygulama Katmanı</h2>
        <p>
          Layer 3, kullanıcıların doğrudan etkileşimde bulunduğu uygulama katmanıdır. DApp'ler (Merkeziyetsiz
          Uygulamalar), DeFi protokolleri ve kullanıcı arayüzleri bu katmanda yer alır.
        </p>

        <div class="tech-detail">
          <h4>Layer 3 Bileşenleri:</h4>
          <ul>
            <li><strong>DApps:</strong> Uniswap, Aave, OpenSea gibi merkeziyetsiz uygulamalar</li>
            <li><strong>Cüzdanlar:</strong> MetaMask, Trust Wallet gibi kullanıcı arayüzleri</li>
            <li><strong>API'ler ve SDK'lar:</strong> Geliştiriciler için araçlar</li>
            <li><strong>Cross-chain köprüler:</strong> Farklı blockchain'ler arası varlık transferi</li>
          </ul>
        </div>

        <div class="comparison-grid">
          <div class="comparison-card bitcoin-card">
            <h4>Bitcoin Ekosistemi Layer 3</h4>
            <ul>
              <li>Cüzdan uygulamaları (Electrum, Bitcoin Core)</li>
              <li>Lightning Network uygulamaları</li>
              <li>BTCPay Server (ödeme işlemcisi)</li>
              <li>Ordinals ve Inscriptions (NFT benzeri)</li>
            </ul>
          </div>

          <div class="comparison-card ethereum-card">
            <h4>Ethereum Ekosistemi Layer 3</h4>
            <ul>
              <li>DeFi protokolleri (Compound, MakerDAO)</li>
              <li>NFT marketleri (OpenSea, Blur)</li>
              <li>DAO yönetim araçları</li>
              <li>GameFi uygulamaları</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="layer-section">
        <h2>Katmanlar Arası Etkileşim</h2>

        <div class="tech-detail">
          <h4>Bir İşlemin Katmanlar Arası Yolculuğu:</h4>
          <div class="code-block">1. Kullanıcı Layer 3'te (MetaMask) işlem başlatır
   ↓
2. İşlem Layer 2'de (Arbitrum) işlenir ve toplanır
   ↓
3. Toplu işlem kanıtı Layer 1'e (Ethereum) gönderilir
   ↓
4. Layer 1 işlemi doğrular ve blockchain'e kaydeder
   ↓
5. Layer 0 altyapısı üzerinden tüm node'lara yayılır</div>
        </div>

        <div class="warning-box">
          <h4>Güvenlik Konuları:</h4>
          <p>
            Her üst katman, alt katmanın güvenliğine bağımlıdır. Layer 2 çözümleri Layer 1'in güvenliğini devralır,
            ancak ek riskler de getirebilir (örneğin, operatör riski, likidite riski).
          </p>
        </div>
      </div>

      <div class="future-section">
        <h2>Gelecek ve Layer 4</h2>
        <p>
          Blockchain teknolojisi hızla gelişiyor ve yeni katman konseptleri ortaya çıkıyor.
          <strong>Layer 4</strong> genellikle cross-chain interoperability (zincirler arası işlerlik) ve gelişmiş
          kullanıcı deneyimi katmanı olarak tanımlanıyor.
        </p>
        <p>
          <strong>Gelecekteki gelişmeler:</strong>
        </p>
        <ul style="margin-left: 25px; margin-top: 10px">
          <li>Sharding teknolojisi ile Layer 1 ölçeklenebilirliği</li>
          <li>Zero-knowledge proof'ların yaygınlaşması</li>
          <li>Quantum-resistant kriptografi</li>
          <li>AI entegrasyonu ile akıllı kontrat optimizasyonu</li>
          <li>Tam cross-chain DeFi ekosistemi</li>
        </ul>
      </div>

      <div
        class="layer-section"
        style="background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); margin-top: 40px"
      >
        <h2>Özet ve Karşılaştırma</h2>

        <div class="tech-detail">
          <h4>Bitcoin vs Ethereum Layer Yapısı:</h4>
          <table style="width: 100%; border-collapse: collapse; margin-top: 15px">
            <thead>
              <tr style="background: #34495e; color: white">
                <th style="padding: 12px; text-align: left">Katman</th>
                <th style="padding: 12px; text-align: left">Bitcoin</th>
                <th style="padding: 12px; text-align: left">Ethereum</th>
              </tr>
            </thead>
            <tbody>
              <tr style="background: white">
                <td style="padding: 12px"><strong>Layer 0</strong></td>
                <td style="padding: 12px">P2P ağ, mining donanımı</td>
                <td style="padding: 12px">P2P ağ, validator node'ları</td>
              </tr>
              <tr style="background: #f8f9fa">
                <td style="padding: 12px"><strong>Layer 1</strong></td>
                <td style="padding: 12px">Bitcoin Core, PoW, 7 TPS</td>
                <td style="padding: 12px">Execution + Consensus Layer, PoS, 15-30 TPS</td>
              </tr>
              <tr style="background: white">
                <td style="padding: 12px"><strong>Layer 2</strong></td>
                <td style="padding: 12px">Lightning Network, Liquid</td>
                <td style="padding: 12px">Arbitrum, Optimism, zkSync, Polygon</td>
              </tr>
              <tr style="background: #f8f9fa">
                <td style="padding: 12px"><strong>Layer 3</strong></td>
                <td style="padding: 12px">Cüzdanlar, Lightning Apps</td>
                <td style="padding: 12px">DeFi, NFT, GameFi, DAO'lar</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="tech-detail" style="margin-top: 30px; background: linear-gradient(135deg, #fff5f5 0%, #ffe0e0 100%); border: 2px solid #ff6b6b;">
          <h4 style="color: #c92a2a; font-size: 1.4em;">Ethereum'da İşlem Yaşam Döngüsü: Layer'lardan Geçiş</h4>
          
          <div class="code-block" style="background: #2c3e50; margin: 20px 0;">// Örnek: Uniswap'ta Token Swap İşlemi (Arbitrum Layer 2 üzerinde)

1. KULLANICI KATMANI (Layer 3 - DApp)
   └─ MetaMask'ta Uniswap arayüzü açılır
   └─ 100 USDC → ETH swap işlemi başlatılır
   
2. LAYER 2 İŞLEMİ (Arbitrum)
   ├─ İşlem Arbitrum Sequencer'a gönderilir
   ├─ Sequencer işlemi ~2 saniyede yürütür
   ├─ State güncellenir (bakiyeler değişir)
   └─ İşlem batch'e eklenir
   
3. LAYER 1'E KAYIT (Ethereum Mainnet)
   ├─ Execution Layer:
   │  ├─ Batch data calldata olarak gönderilir
   │  ├─ State root güncellenir
   │  └─ Gas ücreti ödenir (~$2 yerine ~$0.10)
   │
   └─ Consensus Layer:
      ├─ Validator bloku önerir (12 saniye)
      ├─ Attestation'lar toplanır
      └─ 2 epoch sonra finalize olur
      
4. LAYER 0 YAYILIM
   └─ Blok tüm Ethereum node'larına P2P ile yayılır
   └─ Global state senkronize olur</div>

          <div style="margin: 20px 0;">
            <h5 style="color: #e03131; margin-bottom: 10px;">Maliyet Karşılaştırması</h5>
            <table style="width: 100%; border-collapse: collapse;">
              <thead>
                <tr style="background: #ff6b6b; color: white;">
                  <th style="padding: 10px;">İşlem Tipi</th>
                  <th style="padding: 10px;">Ethereum L1</th>
                  <th style="padding: 10px;">Arbitrum L2</th>
                  <th style="padding: 10px;">Tasarruf</th>
                </tr>
              </thead>
              <tbody>
                <tr style="background: #fff5f5;">
                  <td style="padding: 10px;">Simple Transfer</td>
                  <td style="padding: 10px;">~$5-15</td>
                  <td style="padding: 10px;">~$0.10-0.50</td>
                  <td style="padding: 10px;">95%+</td>
                </tr>
                <tr>
                  <td style="padding: 10px;">Uniswap Swap</td>
                  <td style="padding: 10px;">~$20-100</td>
                  <td style="padding: 10px;">~$0.50-2</td>
                  <td style="padding: 10px;">98%+</td>
                </tr>
                <tr style="background: #fff5f5;">
                  <td style="padding: 10px;">NFT Mint</td>
                  <td style="padding: 10px;">~$30-150</td>
                  <td style="padding: 10px;">~$1-5</td>
                  <td style="padding: 10px;">97%+</td>
                </tr>
              </tbody>
            </table>
          </div>

          <div style="margin: 20px 0; background: #fff; padding: 15px; border-radius: 8px;">
            <h5 style="color: #c92a2a; margin-bottom: 10px;">Gelişmiş Konseptler</h5>
            
            <p><strong>State Channels vs Rollups:</strong></p>
            <ul style="margin-left: 25px; margin-bottom: 15px;">
              <li><strong>State Channels:</strong> İki taraf arası, Lightning Network tarzı</li>
              <li><strong>Rollups:</strong> Çok taraflı, genel amaçlı hesaplama</li>
            </ul>

            <p><strong>Validium ve Volition:</strong></p>
            <ul style="margin-left: 25px;">
              <li><strong>Validium:</strong> ZK-proof + off-chain data availability</li>
              <li><strong>Volition:</strong> Kullanıcı on-chain/off-chain DA seçebilir</li>
            </ul>

            <div class="code-block" style="margin-top: 15px;">// Farklı Layer 2 Tipleri ve Trade-off'ları
┌──────────────┬───────────────┬──────────────┬─────────────┐
│     Tip      │   Güvenlik    │     Hız      │   Maliyet   │
├──────────────┼───────────────┼──────────────┼─────────────┤
│ Rollups      │   Çok Yüksek  │    Orta      │    Düşük    │
│ Validium     │     Yüksek    │   Yüksek     │  Çok Düşük  │
│ Sidechains   │     Orta      │  Çok Yüksek  │  Çok Düşük  │
│ State Chan.  │   Çok Yüksek  │    Anlık     │   Minimal   │
└──────────────┴───────────────┴──────────────┴─────────────┘</div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
